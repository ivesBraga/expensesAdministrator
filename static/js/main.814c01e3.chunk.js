(this["webpackJsonpexpenses-administrator"]=this["webpackJsonpexpenses-administrator"]||[]).push([[0],{33:function(e,t,a){e.exports=a(49)},38:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),c=a.n(l),i=a(21),o=(a(38),a(7)),s=a(2),u=a(16),d=a(9),p=a(10),m=a(12),h=a(11),E=a(29),v=a(13),b=a.n(v),f=a(19),g=function(){var e=Object(f.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://economia.awesomeapi.com.br/json/all");case 2:return t=e.sent,a=t.json(),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(e,t){return{type:"FETCH_SUCCESS",states:e,exchangesRates:t}},y=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(u.a)({},n,r))},e.emailVerifiyer=function(){var t=e.state,a=t.email,n=t.password,r=a.includes("@"),l=a.includes(".com"),c=n.length>=6;return!(r&&l&&c)},e.buttonClick=function(){(0,e.props.dispatch)(function(e){return{type:"LOGIN_SAVE",email:e}}(e.state.email)),e.setState({redirect:!0})},e.state={email:"",password:"",redirect:!1},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.redirect;return r.a.createElement("form",null,n?r.a.createElement(E.Redirect,{to:"/carteira"}):"",r.a.createElement("label",{htmlFor:"email-input"},"email",r.a.createElement("input",{type:"email",id:"email-input",name:"email","data-testid":"email-input",placeholder:"Email",value:t,onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"password-input"},"Password",r.a.createElement("input",{type:"password",name:"password",id:"password-input","data-testid":"password-input",placeholder:"***",value:a,onChange:this.handleChange})),r.a.createElement("button",{type:"button",disabled:this.emailVerifiyer(),onClick:this.buttonClick},"Entrar"))}}]),a}(r.a.Component),j=Object(o.b)()(y),O=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).state={expense:0},e}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this,a=this.props.expenses,n=this.state.expense;e.expenses!==a&&a.map((function(e){var a=e.value,r=e.currency,l=e.exchangeRates[r].ask*a;return t.setState({expense:n+l})}))}},{key:"render",value:function(){var e=this.props,t=e.email,a=e.expenses,n=this.state.expense;return console.log(a),r.a.createElement("header",null,r.a.createElement("h4",{"data-testid":"email-field"},t),r.a.createElement("h4",{"data-testid":"total-field"},Number(n).toFixed(2)),r.a.createElement("h4",{"data-testid":"header-currency-field"},"BRL"))}}]),a}(n.Component),x=Object(o.b)((function(e){return{email:e.user.email,expenses:e.wallet.expenses}}))(O),w=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.expenses;return r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Descri\xe7\xe3o"),r.a.createElement("th",null,"Tag"),r.a.createElement("th",null,"M\xe9todo de pagamento"),r.a.createElement("th",null,"Valor"),r.a.createElement("th",null,"Moeda"),r.a.createElement("th",null,"C\xe2mbio utilizado"),r.a.createElement("th",null,"Valor convertido"),r.a.createElement("th",null,"Moeda de convers\xe3o"),r.a.createElement("th",null,"Editar/Excluir")),e.length>0&&e.map((function(e){var t=e.value,a=e.description,n=e.currency,l=e.method,c=e.tag,i=e.exchangeRates,o=e.id;return r.a.createElement("tr",{key:o},r.a.createElement("td",null,a),r.a.createElement("td",null,c),r.a.createElement("td",null,l),r.a.createElement("td",null,Number(t).toFixed(2)),r.a.createElement("td",null,i[n].name),r.a.createElement("td",null,Number(i[n].ask).toFixed(2)),r.a.createElement("td",null,Number(t*i[n].ask).toFixed(2)),r.a.createElement("td",null,"Real"),r.a.createElement("td",null,"Editar/Excluir"))})))}}]),a}(n.Component),k=Object(o.b)((function(e){return{expenses:e.wallet.expenses}}))(w),S=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(u.a)({},n,r))},e.buttonClick=function(){var t,a=e.state.id;e.setState({id:a+1,value:""}),(0,e.props.dispatch)((t=e.state,function(){var e=Object(f.a)(b.a.mark((function e(a){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"FETCH_START"}),e.prev=1,e.next=4,g();case 4:return n=e.sent,e.abrupt("return",a(C(t,n)));case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()))},e.state={id:0,value:"",description:"",currency:"",method:"",tag:""},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.dispatch)(function(){var e=Object(f.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_START"}),e.prev=1,e.next=4,g();case 4:return delete(a=e.sent).USDT,e.abrupt("return",t({type:"FETCH_CURRENCIES",currencies:a}));case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())}},{key:"render",value:function(){var e=this.state,t=e.value,a=e.description,n=e.currency,l=e.method,c=e.tag,i=this.props.currencies;return r.a.createElement("div",null,r.a.createElement(x,null),r.a.createElement("form",null,r.a.createElement("label",{htmlFor:"value-input"},"Valor da despesa",r.a.createElement("input",{"data-testid":"value-input",type:"number",id:"value-input",name:"value",value:t,onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"description-input"},"Descri\xe7\xe3o da despesa",r.a.createElement("input",{"data-testid":"description-input",id:"description-input",name:"description",value:a,onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"currency-input"},"Moeda utilizada",r.a.createElement("select",{"data-testid":"currency-input",id:"currency-input",name:"currency",value:n,onChange:this.handleChange},Object.keys(i).map((function(e){return r.a.createElement("option",{"data-testid":e.name,key:e},e)})))),r.a.createElement("label",{htmlFor:"method-input"},"M\xe9todo de pagamento",r.a.createElement("select",{"data-testid":"method-input",id:"method-input",name:"method",value:l,onChange:this.handleChange},r.a.createElement("option",null,"Dinheiro"),r.a.createElement("option",null,"Cart\xe3o de cr\xe9dito"),r.a.createElement("option",null,"Cart\xe3o de d\xe9bito"))),r.a.createElement("label",{htmlFor:"tag-input"},"Categoria da despesa",r.a.createElement("select",{"data-testid":"tag-input",id:"tag-input",name:"tag",value:c,onChange:this.handleChange},r.a.createElement("option",null,"Alimenta\xe7\xe3o"),r.a.createElement("option",null,"Lazer"),r.a.createElement("option",null,"Trabalho"),r.a.createElement("option",null,"Transporte"),r.a.createElement("option",null,"Sa\xfade"))),r.a.createElement("button",{type:"button",onClick:this.buttonClick},"Adicionar despesa")),r.a.createElement(k,null))}}]),a}(r.a.Component),F=Object(o.b)((function(e){return{currencies:e.wallet.currencies}}))(S);var R=function(){return r.a.createElement(s.Switch,null,r.a.createElement(s.Route,{exact:!0,path:"/",component:j}),r.a.createElement(s.Route,{exact:!0,path:"/carteira",component:F}))},T=a(8),N=a(30),_=a(31),D=a(32),M=a(14),V={expenses:[],currencies:[]};var A={email:""};var H=Object(T.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SAVE":return Object(M.a)(Object(M.a)({},e),{},{email:t.email});default:return e}},wallet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SUCCESS":return Object(M.a)(Object(M.a)({},e),{},{expenses:[].concat(Object(D.a)(e.expenses),[{id:t.states.id,value:t.states.value,description:t.states.description,currency:t.states.currency,method:t.states.method,tag:t.states.tag,exchangeRates:t.exchangesRates}])});case"FETCH_CURRENCIES":return Object(M.a)(Object(M.a)({},e),{},{currencies:t.currencies});default:return e}}}),U=Object(T.createStore)(H,Object(_.composeWithDevTools)(Object(T.applyMiddleware)(N.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(i.a,null,r.a.createElement(o.a,{store:U},r.a.createElement(R,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.814c01e3.chunk.js.map